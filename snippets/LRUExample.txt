import java.util.*;

class LRUCache {
    private final int capacity;
    private LinkedList<Integer> cache = new LinkedList<>();

    public LRUCache(int capacity) {
        this.capacity = capacity;
    }

    public void access(int item) {
        if (cache.contains(item)) cache.remove((Integer) item);
        else if (cache.size() == capacity) cache.removeLast();
        cache.addFirst(item);
    }

    public void display() {
        System.out.println(cache);
    }
}

public class LRUExample {
    public static void main(String[] args) {
        LRUCache lru = new LRUCache(3);
        lru.access(1);
        lru.access(2);
        lru.access(3);
        lru.display();
        lru.access(2);
        lru.display();
        lru.access(4);
        lru.display();
    }
}
